{% assign dev = false %}
{% for static_file in site.static_files %}
	{% if static_file.path == '/-DEV' %}
		{% assign dev = true %}
	{% endif %}
{% endfor %}

<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  <head>

    <!-- Non social metatags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

      {% if page.title %}
	  {% assign page-title = page.title | append: " | TrueWinter Blog" %}
      {% else %}
	  {% assign page-title = site.title | escape %}
      {% endif %}

    <title>{{ page-title }}</title>
	  <style>
		  img:not([src]) {
				visibility: hidden;
			}
		  .ad-ns {
			  display:none;
		  }
	  </style>

    {% if site.gems contains "jekyll-seo-tag" %}
      <!-- jekyll-seo-tag -->
    {% else %}
      {% include social-metatags.html %}
    {% endif %}

    <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

    {% if site.gems contains "jekyll-feed" %}
      <link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}" href="{{ "/feed.xml" | relative_url }}">
    {% endif %}

    <link rel="shortcut icon" href="/assets/img/logo_64.jpg">
    <link rel="icon" href="/assets/img/logo_64.jpg">
    <meta name="robots" content="noarchive">

    <!-- <link rel="alternate" media="only screen and (max-width: 640px)" href="">
    <link rel="alternate" media="handheld" href=""> -->


	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <!--<link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">-->
    <!--<link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css">-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.0/darkly/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic&amp;display=swap">
    <link rel="stylesheet" class="tw-ll" data-href="/assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="/assets/css/styles.min.css">
	<link rel="stylesheet" href="/assets/css/blog.css">
	<link rel="stylesheet" href="/assets/css/rouge.css">
	<!--<link rel="stylesheet" href="https://cdn.truewinter.dev/c/tw/blog/css/styles.min.css">
	<link rel="stylesheet" href="https://cdn.truewinter.dev/c/tw/blog//css/blog.css">
	<link rel="stylesheet" href="https://cdn.truewinter.dev/c/tw/blog//css/rouge.css">-->
	<link rel="stylesheet" type="text/css" class="tw-ll" data-href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
	<script class="tw-ll" onload="initCookieConsent()" data-src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
  </head>
  <body>

    {% if page.layout == 'home' %}
      {% assign page-tagline = site.description | default: site.github.project_tagline | escape %}
    {% endif %}
    {% if page.layout == 'page' %}
      {% assign page-tagline = page.tagline | escape %}
    {% endif %}
    {% if page.layout == 'post' %}
      {% assign page-tagline = page.tagline | escape  %}
    {% endif %}

	<nav class="navbar navbar-dark navbar-expand-md sticky-top bg-dark navigation-clean">
        <div class="container-fluid"><a class="navbar-brand" href="/" style="padding: 0px;margin: 0px;"><img src="/assets/img/logo_64.jpg" style="margin: 0px;height: 64px;"></a><button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-1">{% if dev %} DEV{% endif %}
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item" role="presentation"><a class="nav-link" href="https://truewinter.dev/#about">About</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" href="https://truewinter.dev/#projects">Projects</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" href="https://truewinter.dev/#contact">Contact</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link nav-sep active" href="https://blog.truewinter.dev">Blog</a></li>
                </ul>
        </div>
        </div>
    </nav>
    <div data-bs-parallax-bg="true" style="height: 300px;background: url(/assets/img/20200730_190232_e.jpg) center / cover;">
        <div class="d-flex d-xl-flex justify-content-center align-items-center justify-content-xl-center align-items-xl-center" style="height: 300px;">
            <div>
                <div class="d-block">
                    <p style="color: #dfe8ee;font-size: 32px;text-align: center;">TrueWinter</p>
                    <div class="social-icons"><a target="_blank" href="https://github.com/TrueWinter"><i class="fab fa-github"></i></a><a target="_blank" href="https://twitter.com/TrueWinterTech"><i class="fab fa-twitter"></i></a><a target="_blank" href="https://blog.truewinter.dev/"><i class="fas fa-blog"></i></a><a target="_blank" href="https://discord.com/invite/scHhZcK"><i class="fab fa-discord"></i></a></div>
                </div>
            </div>
        </div>
    </div>
    <div class="container" style="margin-top: 16px;color: #dfe8ee;">
	<div id="msieNotice" style="display:none;">
		<div style="background-color:#f39c12;color:black;border-radius:5px;padding:8px;text-align:center;">Your web browser is out of date. Update your browser for more security, speed and the best experience on this site. <a style="color:blue;" href="http://outdatedbrowser.com" rel="noopener">Update your browser</a></div>
	</div>
	<script>
		// https://stackoverflow.com/a/19999868
		function isMSIE() {
			var ua = window.navigator.userAgent;
			var msie = ua.indexOf("MSIE ");

			if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
				return true;
			}

			return false;
		}

		if (isMSIE()) {
			document.getElementById('msieNotice').style.display = 'block';
		}
	</script>
		  <h1> {{ page.title }} </h1>
		{% if page.layout == 'post' %}
			<p class="project-date">
			<strong datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
			  {% assign date_format = "%b %-d, %Y" %}
			  {{ page.date | date: date_format }}
			</strong><span class="readingTime"> | <strong>Reading Time: <span id="rTime"></span></strong></span>
					
			</p>
			{% endif %}

		  {{ content }}
	</div>
	
	<!-- Footer is generated on one of my servers using my website as its source -->
	{{ site.data.footer.html }}

<script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/12.0.3/lazyload.min.js"></script>
<script>
var myLazyLoad = new LazyLoad({elements_selector: ".lazy"});
</script>
	<!--<script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="/assets/js/script.min.js"></script>
	<script>
		window.addEventListener('load', function() {
			var twLL = document.getElementsByClassName('tw-ll');
			
			for (var i = 0; i < twLL.length; i++) {
				var dataResourceURL = twLL[i].dataset.href || twLL[i].dataset.src;
				console.log(dataResourceURL);
				var re = /\/.[a-z0-9.-]+\.([a-z]+)$/gm;
				var type = re.exec(dataResourceURL)[1];
				
				if (type === 'css') {
					twLL[i].href = twLL[i].dataset.href;
				} else if (type === 'js') {
					twLL[i].src = twLL[i].dataset.src;
				}
			}
		});
		
		function initCookieConsent() {
			window.cookieconsent.initialise({
				"palette": {
					"popup": {
						"background": "#000"
					},
					"button": {
						"background": "#f1d600"
					}
				},
				"theme": "classic",
				"content": {
					"href": "https://truewinter.dev/legal/privacy"
				}
			});
		}
	</script>
	{% if site.analytics %}
		{% if dev %}
			<script>console.log('Dev mode; analytics disabled');</script>
		{% else %}
		<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "92ba758fbbab4ec889f43390cb2cf916"}'></script><!-- End Cloudflare Web Analytics -->
		<script async data-website-id="3cd0de30-1f54-469e-9850-29259db5bd64" data-host-url="https://umami.truewinter.net" src="https://cdn-g.truewinter.net/umami/umami.js"></script>
		{% endif %}
	{% endif %}
  </body>
</html>
